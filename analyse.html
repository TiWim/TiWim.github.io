<!DOCTYPE html>
<html>
<title>Hacking Skills</title>
    
<xmp theme="united" style="display:none;"
<div class="header">
    </div>
    <div class="center">

        <h1>How to analyse statically a program with GDB:</h1>

        <h2>Usefull tools:</h2>

        <ul>
            <li>strace</li>
            <li>ltrace</li>
            <li>readelf</li>
            <li>gdb</li>
            <li>objdump</li>
            <li>strings</li>
            <li>strip</li>
            <li>radare2</li>
            <li>python</li>
        </ul>

        <h2>Example:</h2>
        <p>Here is the code that I will use as example for this tutorial:</p>

        <div class="C-code">
            // Author : TiWim<br/>
            // Compilation : gcc vulnerable.c -o vulnerable<br/>
<br/>
            #include <stdio.h><br/>
            #include <string.h><br/>
<br/>
            int main (int argc, char ** argv){<br/>
            char message[20];<br/>
            if (argc != 2){<br/>
            printf ("Usage: %s <message>\n", argv[0]);<br/>
            return -1;<br/>
            }<br/>
            strcpy (message, argv[1]);<br/>
            printf ("Your message: %s\n", message);<br/>
            return 0;<br/>
<br/>
            }<br/>
        </div><br/><br/>
        This code is vulnerable to code injection and buffer overflows.


        ## Software analysis:

        First of all:
        we need to execute the command file on the programm to verify that we are legit to disassemble it.

        file ./soft

        Then, we can run gdb:

        gdb -q ./soft

        We can disassemble some part of the software with the command disassemble:

        disass main



        Afficher le contenu de la stack:
        x/24x $esp


        Afficher une adresse:
        print (void*) $esp
        print (void*) $esp+0x30

        Afficher le contenu d'une adresse
        x/x $esp+0x30

        jump *adresse
        jump *main+144

        stepi

        br *adresse
        br *main+144

        continue c
        run r
        kill ki



        - Objdump
        dump d'un fichier binaire en assembleur

    </div>
    <div class="footer">
    </div>


</xmp>

<script src="http://strapdownjs.com/v/0.2/strapdown.js"></script>
</html>

