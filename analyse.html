<!DOCTYPE html>
<html>
<title>Hacking Skills</title>

<xmp theme="united" style="display:none;">

# How to analyse statically a program with GDB:

## Usefull tools:

    - strace
    - ltrace
    - readelf
    - gdb
    - objdump
    - strings
    - strip
    - radare2
    - python

## Example:

Here is the code that I will use as example for this tutorial:

```c
// Author : TiWim
// Compilation : gcc vulnerable.c -o vulnerable

#include <stdio.h>
#include <string.h>

int main (int argc, char ** argv){
    char message[20];

    if (argc != 2){
        printf ("Usage: %s <message>\n", argv[0]);
        return -1;
    }

    strcpy (message, argv[1]);
    printf ("Your message: %s\n", message);
    return 0;
}
```

This code is vulnerable to code injection and buffer overflows.


## Software analysis:

First of all:
we need to execute the command file on the programm to verify that we are legit to disassemble it.

file ./soft

Then, we can run gdb:

gdb -q ./soft

We can disassemble some part of the software with the command disassemble:

disass main



Afficher le contenu de la stack:
x/24x $esp


Afficher une adresse:
print (void*) $esp
print (void*) $esp+0x30

Afficher le contenu d'une adresse
x/x $esp+0x30

jump *adresse
jump *main+144

stepi

br *adresse
br *main+144

continue c
run r
kill ki

watch

- Objdump
dump d'un fichier binaire en assembleur

</xmp>

<script src="http://strapdownjs.com/v/0.2/strapdown.js"></script>
</html>

